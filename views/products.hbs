<script type="text/javascript">
  let productList = document.createElement('ul')

  const headers = new Headers();
  headers.append('authorization', `Bearer ${localStorage.token}`)
  
  fetch('/api/product', {
    method: 'get',
    headers
  })
  .then(res => res.json())
  .then(data => {
    console.log(data)
    data.products.map(product => {
      const text = document.createTextNode(product.name)
      const item = document.createElement('li')
      item.appendChild(text)
      productList.appendChild(item)
    })
    document.body.appendChild(productList)
  })

  
</script>